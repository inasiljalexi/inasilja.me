
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InaSilja</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: auto;
            position: relative;
            overflow-x: hidden;
            background: radial-gradient(circle at center, #FF00AA, #00FFFF, #FF00AA);
            background-size: 200% 200%;
            animation: gradientShift 10s ease infinite;
            scroll-behavior: smooth;
        }
        @keyframes gradientShift {
            //0% { background-position: 0% 50%; }
            //50% { background-position: 100% 50%; }
            //100% { background-position: 0% 50%; }
        }
        .container {
            background: transparent;
            color: white;
            font-family: var(--main-font, sans-serif);
            text-align: center;
            min-height: 100vh;
            position: relative;
            padding-bottom: 20px;
            z-index: 1;
        }
        .header {
            padding: 20px;
            position: relative;
            z-index: 1;
        }
        .profile-img img {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 10px;
            border: 5px solid #fff;
            transition: transform 0.3s ease;
            animation: glowPulse 2s ease-in-out infinite;
            display: block;
            margin: 0 auto;
        }
        @keyframes glowPulse {
            0% { box-shadow: 0 0 10px #fff, 0 0 20px #ff00aa; }
            50% { box-shadow: 0 0 20px #fff, 0 0 40px #00ffff; }
            100% { box-shadow: 0 0 10px #fff, 0 0 20px #ff00aa; }
        }
        .name {
            font-size: 2.2em;
            margin: 5px 0;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2), 0 0 10px #ff00aa;
            white-space: normal;
            overflow: visible;
            word-break: break-word;
            max-width: 100%;
            font-family: var(--main-font, sans-serif);
            position: relative;
        }
        .bio {
            font-size: 1.2em;
            margin-bottom: 20px;
            font-family: var(--main-font, sans-serif);
            text-shadow: 0 0 5px #00ffff;
            position: relative;
        }
        .primary-socials {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        .primary-socials img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #fff;
            transition: transform 0.3s ease, filter 0.3s ease;
        }
        .primary-socials img:hover {
            transform: scale(1.2) rotate(15deg);
            filter: hue-rotate(360deg);
            animation: rainbowGlow 1s linear infinite;
        }
        .primary-socials img.x-icon,
        .primary-socials img.insta-icon,
        .primary-socials img.snapchat-icon,
        .primary-socials img.telegram-icon,
        .primary-socials img.whatsapp-icon {
            border-radius: 0;
            background: none;
        }
        @keyframes rainbowGlow {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }
        .link-button {
            display: block;
            position: relative;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            font-family: var(--main-font, sans-serif);
            text-decoration: none;
            padding: 15px;
            margin: 10px auto;
            width: 80%;
            max-width: 300px;
            border: 2px solid transparent;
            border-radius: 25px;
            font-size: 1.2em;
            transition: all 0.3s ease;
            text-align: center;
            box-shadow: 0 0 10px #ff00aa;
        }
        .link-button:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: translateY(-3px);
            border-color: #00ffff;
            box-shadow: 0 0 20px #00ffff, 0 0 30px #ff00aa;
            animation: neonFlare 0.5s ease;
        }
        @keyframes neonFlare {
            0% { box-shadow: 0 0 10px #ff00aa; }
            50% { box-shadow: 0 0 20px #00ffff, 0 0 40px #ff00aa; }
            100% { box-shadow: 0 0 10px #ff00aa; }
        }
        .link-button img {
            width: 36px;
            height: 36px;
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            border-radius: 50%;
            background: #fff;
        }
        .link-button img.onlyfans-icon,
        .link-button img.insta-icon,
        .link-button img.x-icon,
        .link-button img.snapchat-icon,
        .link-button img.telegram-icon,
        .link-button img.youtube-icon,
        .link-button img.tiktok-icon,
        .link-button img.facebook-icon,
        .link-button img.whatsapp-icon,
        .link-button img.deviantart-icon,
        .link-button img.github-icon,
        .link-button img.pinterest-icon,
        .link-button img.reddit-icon,
        .link-button img.paypal-icon {
            border-radius: 0;
            background: none;
        }
        .link-button span {
            display: block;
            width: 100%;
            text-align: center;
        }
        .link-button.onlyfans {
            animation: glow 1.5s ease-in-out infinite alternate, pulse 2s ease-in-out infinite;
        }
        @keyframes glow {
            from {
                box-shadow: 0 0 5px #fff, 0 0 10px #ff00aa, 0 0 15px #ff00aa, 0 0 20px #ff00aa;
            }
            to {
                box-shadow: 0 0 10px #fff, 0 0 20px #00ffff, 0 0 30px #ff00aa, 0 0 40px #00ffff;
            }
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .site-credit {
            font-family: var(--main-font, sans-serif);
            font-size: 1.2em;
            margin-top: 20px;
            padding-bottom: 20px;
            text-shadow: 0 0 5px #ff00aa;
        }
        .config-error {
            font-family: var(--main-font, sans-serif);
            font-size: 1.2em;
            color: white;
            text-shadow: 0 0 5px #ff00aa;
            margin: 20px auto;
        }
        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: transparent;
        }
    </style>
</head>
<body>
    <canvas id="starfield"></canvas>
    <div class="container">
        <div class="header">
            <div class="profile-img"></div>
            <div class="name"></div>
            <div class="bio"></div>
            <div class="config-error">Config not loading</div>
            <div class="primary-socials"></div>
            <div class="site-credit"></div>
        </div>
    </div>
    <script>
        // Function to check if a URL is accessible
        async function checkImage(url) {
            return new Promise((resolve) => {
                const img = new Image();
                img.onload = () => resolve(true);
                img.onerror = () => resolve(false);
                img.src = url;
            });
        }

        // Fetch configuration and generate content
        async function loadConfig() {
            try {
                let response;
                let config;

                // Try relative path first
                try {
                    response = await fetch('./config.json');
                    if (!response.ok) {
                        throw new Error(`Relative fetch failed: ${response.status} ${response.statusText}`);
                    }
                    config = await response.json();
                } catch (relativeError) {
                    console.warn('Relative config fetch failed:', relativeError.message);
                    // Try absolute GitHub URL as fallback
                    try {
                        response = await fetch('https://raw.githubusercontent.com/InaSilja/inasilja.me/main/config.json');
                        if (!response.ok) {
                            throw new Error(`Absolute fetch failed: ${response.status} ${response.statusText}`);
                        }
                        config = await response.json();
                    } catch (absoluteError) {
                        throw new Error(`Failed to fetch config from both paths: ${absoluteError.message}`);
                    }
                }

                const primarySocialsContainer = document.querySelector('.primary-socials');
                const header = document.querySelector('.header');
                const nameElement = document.querySelector('.name');
                const bioElement = document.querySelector('.bio');
                const siteCreditElement = document.querySelector('.site-credit');
                const profileImgContainer = document.querySelector('.profile-img');
                const configErrorElement = document.querySelector('.config-error');

                // Clear config error message
                configErrorElement.remove();

                // Set font
                const fontStyle = document.createElement('style');
                fontStyle.textContent = `
                    @import url('${config.font.url}');
                    :root {
                        --main-font: '${config.font.name}', sans-serif;
                    }
                `;
                document.head.appendChild(fontStyle);

                // Set favicon
                const faviconUrl = (await checkImage(config.favicon.relative)) ? config.favicon.relative : config.favicon.fallback;
                const favicon = document.createElement('link');
                favicon.rel = 'icon';
                favicon.type = config.favicon.type;
                favicon.href = faviconUrl;
                document.head.appendChild(favicon);

                // Set profile image
                profileImgContainer.innerHTML = ''; // Clear any existing content
                const profileImgUrl = (await checkImage(config.profileImage.relative)) ? config.profileImage.relative : config.profileImage.fallback;
                const profileImg = document.createElement('img');
                profileImg.src = profileImgUrl;
                profileImg.alt = config.profileImage.alt;
                profileImg.className = 'profile-img';
                profileImgContainer.appendChild(profileImg);

                // Set name, bio, and site credit
                nameElement.textContent = config.name;
                bioElement.textContent = config.bio;
                siteCreditElement.textContent = config.siteCredit;

                // Clear existing socials and buttons
                primarySocialsContainer.innerHTML = '';
                header.querySelectorAll('.link-button').forEach(button => button.remove());

                // Generate primary socials
                for (const social of config.primarySocials) {
                    const iconUrl = (await checkImage(social.icon.relative)) ? social.icon.relative : social.icon.fallback;
                    const link = document.createElement('a');
                    link.href = social.url;
                    link.target = '_blank';
                    link.rel = 'noopener noreferrer';
                    const img = document.createElement('img');
                    img.src = iconUrl;
                    img.alt = social.alt;
                    img.className = social.class;
                    link.appendChild(img);
                    primarySocialsContainer.appendChild(link);
                }

                // Generate link buttons
                for (const button of config.linkButtons) {
                    const iconUrl = (await checkImage(button.icon.relative)) ? button.icon.relative : button.icon.fallback;
                    const link = document.createElement('a');
                    link.href = button.url;
                    link.className = `link-button ${button.extraClass || ''}`;
                    link.target = '_blank';
                    link.rel = 'noopener noreferrer';
                    const img = document.createElement('img');
                    img.src = iconUrl;
                    img.alt = button.alt;
                    img.className = button.class;
                    const span = document.createElement('span');
                    span.textContent = button.label;
                    link.appendChild(img);
                    link.appendChild(span);
                    // Insert before site-credit
                    header.insertBefore(link, siteCreditElement);
                }
            } catch (error) {
                console.error('Failed to load config:', error.message);
                // Config error message remains in HTML
            }
        }

        loadConfig();

        // Starfield animation with faster night sky movement and arc motion
        const canvas = document.getElementById('starfield');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const colors = ['#FFFFFF', '#FFCCFF', '#CCFFFF', '#FF99CC'];
        const stars = [];
        const numStars = 150;
        const shootingStars = [];

        // Initialize regular stars
        for (let i = 0; i < numStars; i++) {
            stars.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                radius: Math.random() * 1.5 + 0.5,
                speed: Math.random() * 0.4 + 0.1, // Faster speeds for night sky effect
                color: colors[Math.floor(Math.random() * colors.length)],
                twinkle: Math.random() * 0.5 + 0.5,
                arcOffset: Math.random() * canvas.height * 0.2, // Amplitude for arc motion
                arcPhase: Math.random() * Math.PI * 2 // Random starting phase for arc
            });
        }

        // Function to create a shooting star
        function createShootingStar() {
            const angle = Math.random() * Math.PI / 4 + Math.PI / 8; // Diagonal from top-right to bottom-left
            const speed = Math.random() * 10 + 10;
            shootingStars.push({
                x: canvas.width,
                y: Math.random() * canvas.height * 0.3, // Start in top 30% of canvas
                vx: -Math.cos(angle) * speed,
                vy: Math.sin(angle) * speed,
                length: Math.random() * 20 + 10,
                radius: Math.random() * 2 + 1,
                color: colors[Math.floor(Math.random() * colors.length)],
                life: 60
            });
        }

        function animateStars() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Update and draw regular stars
            stars.forEach(star => {
                star.x -= star.speed; // Move right to left
                if (star.x < 0) {
                    star.x = canvas.width; // Reset to right edge
                    star.y = Math.random() * canvas.height;
                    star.arcPhase = Math.random() * Math.PI * 2; // Reset arc phase
                }

                // Apply arc motion
                const arcY = star.y + Math.sin(star.x * 0.005 + star.arcPhase) * star.arcOffset;

                ctx.beginPath();
                ctx.arc(star.x, arcY, star.radius, 0, Math.PI * 2);
                ctx.fillStyle = star.color;
                ctx.globalAlpha = Math.sin(Date.now() * 0.001 * star.twinkle) * 0.5 + 0.5; // Twinkling effect
                ctx.shadowBlur = 10;
                ctx.shadowColor = star.color;
                ctx.fill();
                ctx.globalAlpha = 1;
                ctx.shadowBlur = 0;
            });

            // Randomly spawn shooting stars
            if (Math.random() < 0.02) createShootingStar();

            // Update and draw shooting stars
            for (let i = shootingStars.length - 1; i >= 0; i--) {
                const s = shootingStars[i];
                s.x += s.vx;
                s.y += s.vy;
                s.life--;

                if (s.life <= 0 || s.x < 0 || s.y > canvas.height) {
                    shootingStars.splice(i, 1);
                    continue;
                }

                // Draw shooting star with trail
                ctx.beginPath();
                ctx.moveTo(s.x, s.y);
                ctx.lineTo(s.x - s.vx * s.length / 10, s.y - s.vy * s.length / 10);
                ctx.strokeStyle = s.color;
                ctx.lineWidth = s.radius;
                ctx.shadowBlur = 15;
                ctx.shadowColor = s.color;
                ctx.globalAlpha = s.life / 60;
                ctx.stroke();
                ctx.globalAlpha = 1;
                ctx.shadowBlur = 0;
            }

            requestAnimationFrame(animateStars);
        }

        animateStars();

        // Resize canvas on window resize
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
